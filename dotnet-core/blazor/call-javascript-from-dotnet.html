<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä» ASP .NET Core Blazor ä¸­çš„ .NET æ–¹æ³•è°ƒç”¨ JavaScript å‡½æ•° | xxred&#39;s notes</title>
    <meta name="description" content="è®°å½•å­¦ä¹ è¿‡ç¨‹ï¼Œæ”¶é›†å­¦ä¹ èµ„æº">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3ab1ff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/logo.jpg">
  <meta name="msapplication-TileImage" content="/logo.jpg">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.5203916d.css" as="style"><link rel="preload" href="/assets/js/app.d725c766.js" as="script"><link rel="preload" href="/assets/js/2.bd7d8131.js" as="script"><link rel="preload" href="/assets/js/82.56cba17a.js" as="script"><link rel="prefetch" href="/assets/js/10.12125ec3.js"><link rel="prefetch" href="/assets/js/100.18dcb325.js"><link rel="prefetch" href="/assets/js/101.cd6f6eb1.js"><link rel="prefetch" href="/assets/js/102.05786c69.js"><link rel="prefetch" href="/assets/js/103.9051a256.js"><link rel="prefetch" href="/assets/js/104.7b4e0fa1.js"><link rel="prefetch" href="/assets/js/105.93d00396.js"><link rel="prefetch" href="/assets/js/106.d1da731f.js"><link rel="prefetch" href="/assets/js/107.45344e7a.js"><link rel="prefetch" href="/assets/js/108.d5e6e24e.js"><link rel="prefetch" href="/assets/js/109.bdfac3d2.js"><link rel="prefetch" href="/assets/js/11.2f59486f.js"><link rel="prefetch" href="/assets/js/110.15dcb9f8.js"><link rel="prefetch" href="/assets/js/111.87f5ea93.js"><link rel="prefetch" href="/assets/js/112.8322fd2c.js"><link rel="prefetch" href="/assets/js/113.ad3e7914.js"><link rel="prefetch" href="/assets/js/114.a3ddda28.js"><link rel="prefetch" href="/assets/js/115.65edff6f.js"><link rel="prefetch" href="/assets/js/116.265b4257.js"><link rel="prefetch" href="/assets/js/117.6f1699a4.js"><link rel="prefetch" href="/assets/js/118.8adf9626.js"><link rel="prefetch" href="/assets/js/119.0294ddd2.js"><link rel="prefetch" href="/assets/js/12.f7c6dc20.js"><link rel="prefetch" href="/assets/js/120.bc1b0337.js"><link rel="prefetch" href="/assets/js/121.64ce0a6f.js"><link rel="prefetch" href="/assets/js/122.8b0fc244.js"><link rel="prefetch" href="/assets/js/123.937522bb.js"><link rel="prefetch" href="/assets/js/124.e6a7f537.js"><link rel="prefetch" href="/assets/js/125.00ed421d.js"><link rel="prefetch" href="/assets/js/126.0cb41c4c.js"><link rel="prefetch" href="/assets/js/127.a3dba8df.js"><link rel="prefetch" href="/assets/js/128.65576f44.js"><link rel="prefetch" href="/assets/js/129.daf2a3f7.js"><link rel="prefetch" href="/assets/js/13.39a5d82f.js"><link rel="prefetch" href="/assets/js/130.2a48a640.js"><link rel="prefetch" href="/assets/js/131.a0d25686.js"><link rel="prefetch" href="/assets/js/132.94f95535.js"><link rel="prefetch" href="/assets/js/133.571c736f.js"><link rel="prefetch" href="/assets/js/134.cff1b8d2.js"><link rel="prefetch" href="/assets/js/135.c68d7791.js"><link rel="prefetch" href="/assets/js/136.e37a3345.js"><link rel="prefetch" href="/assets/js/137.90565e1f.js"><link rel="prefetch" href="/assets/js/138.31492216.js"><link rel="prefetch" href="/assets/js/139.fbfac321.js"><link rel="prefetch" href="/assets/js/14.1ee918de.js"><link rel="prefetch" href="/assets/js/140.d708ac82.js"><link rel="prefetch" href="/assets/js/141.50614ce6.js"><link rel="prefetch" href="/assets/js/142.427f2350.js"><link rel="prefetch" href="/assets/js/143.a9a24424.js"><link rel="prefetch" href="/assets/js/144.21e8b1c8.js"><link rel="prefetch" href="/assets/js/145.31e86568.js"><link rel="prefetch" href="/assets/js/146.21a14665.js"><link rel="prefetch" href="/assets/js/147.9c0aaace.js"><link rel="prefetch" href="/assets/js/148.07f297de.js"><link rel="prefetch" href="/assets/js/149.cdfa9e87.js"><link rel="prefetch" href="/assets/js/15.4672c2ce.js"><link rel="prefetch" href="/assets/js/150.9c0c8c10.js"><link rel="prefetch" href="/assets/js/151.d04cfafa.js"><link rel="prefetch" href="/assets/js/152.62e2621e.js"><link rel="prefetch" href="/assets/js/153.09f1c1a2.js"><link rel="prefetch" href="/assets/js/154.222a4093.js"><link rel="prefetch" href="/assets/js/155.a70818e2.js"><link rel="prefetch" href="/assets/js/156.c399276b.js"><link rel="prefetch" href="/assets/js/157.1da529e2.js"><link rel="prefetch" href="/assets/js/158.9d29fb72.js"><link rel="prefetch" href="/assets/js/159.9aa2da31.js"><link rel="prefetch" href="/assets/js/16.2c9264be.js"><link rel="prefetch" href="/assets/js/160.a9003811.js"><link rel="prefetch" href="/assets/js/161.9a89f54c.js"><link rel="prefetch" href="/assets/js/162.fc28ed50.js"><link rel="prefetch" href="/assets/js/163.da0c5b25.js"><link rel="prefetch" href="/assets/js/164.cfec30f2.js"><link rel="prefetch" href="/assets/js/165.213296d5.js"><link rel="prefetch" href="/assets/js/17.10c00e1c.js"><link rel="prefetch" href="/assets/js/18.c6c1373f.js"><link rel="prefetch" href="/assets/js/19.7cb5e692.js"><link rel="prefetch" href="/assets/js/20.c8e2904f.js"><link rel="prefetch" href="/assets/js/21.8fb8431b.js"><link rel="prefetch" href="/assets/js/22.cad1523d.js"><link rel="prefetch" href="/assets/js/23.336db4dc.js"><link rel="prefetch" href="/assets/js/24.b4abaff4.js"><link rel="prefetch" href="/assets/js/25.bc678bee.js"><link rel="prefetch" href="/assets/js/26.6b4963fa.js"><link rel="prefetch" href="/assets/js/27.ed306091.js"><link rel="prefetch" href="/assets/js/28.11f1f911.js"><link rel="prefetch" href="/assets/js/29.9feb596c.js"><link rel="prefetch" href="/assets/js/3.f12ab206.js"><link rel="prefetch" href="/assets/js/30.8ddb0c4f.js"><link rel="prefetch" href="/assets/js/31.6fa56055.js"><link rel="prefetch" href="/assets/js/32.9dc1eb16.js"><link rel="prefetch" href="/assets/js/33.ae1bb72c.js"><link rel="prefetch" href="/assets/js/34.ee437a9e.js"><link rel="prefetch" href="/assets/js/35.d99ba2ba.js"><link rel="prefetch" href="/assets/js/36.138fdeda.js"><link rel="prefetch" href="/assets/js/37.283e7743.js"><link rel="prefetch" href="/assets/js/38.0dbfced7.js"><link rel="prefetch" href="/assets/js/39.f8cf5b6c.js"><link rel="prefetch" href="/assets/js/4.be1f9f70.js"><link rel="prefetch" href="/assets/js/40.9ca03b00.js"><link rel="prefetch" href="/assets/js/41.6083da11.js"><link rel="prefetch" href="/assets/js/42.4634ccd9.js"><link rel="prefetch" href="/assets/js/43.ecd071d7.js"><link rel="prefetch" href="/assets/js/44.27ea6552.js"><link rel="prefetch" href="/assets/js/45.65c7a130.js"><link rel="prefetch" href="/assets/js/46.c8107794.js"><link rel="prefetch" href="/assets/js/47.227b1f30.js"><link rel="prefetch" href="/assets/js/48.0ef3ff92.js"><link rel="prefetch" href="/assets/js/49.fda2074a.js"><link rel="prefetch" href="/assets/js/5.08d71a27.js"><link rel="prefetch" href="/assets/js/50.d9430822.js"><link rel="prefetch" href="/assets/js/51.3864d228.js"><link rel="prefetch" href="/assets/js/52.2d762f88.js"><link rel="prefetch" href="/assets/js/53.b4d41aff.js"><link rel="prefetch" href="/assets/js/54.18171ff9.js"><link rel="prefetch" href="/assets/js/55.c18f433b.js"><link rel="prefetch" href="/assets/js/56.12cb712c.js"><link rel="prefetch" href="/assets/js/57.a0ec922a.js"><link rel="prefetch" href="/assets/js/58.6519b18b.js"><link rel="prefetch" href="/assets/js/59.aa4499fa.js"><link rel="prefetch" href="/assets/js/6.c61c395f.js"><link rel="prefetch" href="/assets/js/60.c0f87ddf.js"><link rel="prefetch" href="/assets/js/61.6d477f3e.js"><link rel="prefetch" href="/assets/js/62.50642e50.js"><link rel="prefetch" href="/assets/js/63.a16f62f9.js"><link rel="prefetch" href="/assets/js/64.4dddaa67.js"><link rel="prefetch" href="/assets/js/65.2227452e.js"><link rel="prefetch" href="/assets/js/66.ccb714f1.js"><link rel="prefetch" href="/assets/js/67.06a0f16c.js"><link rel="prefetch" href="/assets/js/68.5fef03c0.js"><link rel="prefetch" href="/assets/js/69.6be29807.js"><link rel="prefetch" href="/assets/js/7.e8efcd8e.js"><link rel="prefetch" href="/assets/js/70.aeb670c2.js"><link rel="prefetch" href="/assets/js/71.090a08a0.js"><link rel="prefetch" href="/assets/js/72.71d61f3b.js"><link rel="prefetch" href="/assets/js/73.abda214a.js"><link rel="prefetch" href="/assets/js/74.dd9403a9.js"><link rel="prefetch" href="/assets/js/75.7f4ff519.js"><link rel="prefetch" href="/assets/js/76.59c822d3.js"><link rel="prefetch" href="/assets/js/77.a51d7a54.js"><link rel="prefetch" href="/assets/js/78.b724e633.js"><link rel="prefetch" href="/assets/js/79.e2f36266.js"><link rel="prefetch" href="/assets/js/8.05e40e41.js"><link rel="prefetch" href="/assets/js/80.a3554f80.js"><link rel="prefetch" href="/assets/js/81.8635ffc5.js"><link rel="prefetch" href="/assets/js/83.ffd04b12.js"><link rel="prefetch" href="/assets/js/84.86657a37.js"><link rel="prefetch" href="/assets/js/85.7af36465.js"><link rel="prefetch" href="/assets/js/86.49c010bf.js"><link rel="prefetch" href="/assets/js/87.eb82fac1.js"><link rel="prefetch" href="/assets/js/88.5a247f03.js"><link rel="prefetch" href="/assets/js/89.5aad9c6c.js"><link rel="prefetch" href="/assets/js/9.4bf1e77a.js"><link rel="prefetch" href="/assets/js/90.2de6749a.js"><link rel="prefetch" href="/assets/js/91.ff8acef4.js"><link rel="prefetch" href="/assets/js/92.614d3e0b.js"><link rel="prefetch" href="/assets/js/93.a8e8102e.js"><link rel="prefetch" href="/assets/js/94.b282ef63.js"><link rel="prefetch" href="/assets/js/95.ef3c0dc7.js"><link rel="prefetch" href="/assets/js/96.f6b92f21.js"><link rel="prefetch" href="/assets/js/97.d60e4765.js"><link rel="prefetch" href="/assets/js/98.ca948d53.js"><link rel="prefetch" href="/assets/js/99.c88ea9c4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5203916d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">xxred's notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Easy.Admin</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/easy-admin/" class="nav-link">Easy.Adminæ–‡æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">.Net Core</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dotnet-core/dotnetcore/" class="nav-link">.Net Core</a></li><li class="dropdown-item"><!----> <a href="/dotnet-core/aspnetcore/" class="nav-link">Asp.Net Core</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-item"><!----> <a href="/front-end/vuejs/" class="nav-link">vuejs</a></li><li class="dropdown-item"><!----> <a href="/front-end/iview/" class="nav-link">iview</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/programing-language/csharp/" class="nav-link">C#</a></li><li class="dropdown-item"><!----> <a href="/programing-language/powershell/" class="nav-link">PowerShell</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¼–ç¨‹åŸºç¡€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/character-coding/" class="nav-link">å­—ç¬¦ç¼–ç </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ“ä½œç³»ç»Ÿ</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/operating-system/windows/" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/operating-system/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¼€å‘å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev-tool/visualstudio/" class="nav-link">Visual Studio</a></li><li class="dropdown-subitem"><a href="/dev-tool/visualstudio-code/" class="nav-link">Visual Studio Code</a></li></ul></li><li class="dropdown-item"><h4>æ–‡æ¡£å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tools/doc/docfx/" class="nav-link">DocFX</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/awesome-collection/" class="nav-link">èµ„æºæ”¶é›†</a></div> <a href="https://github.com/xxred/xxred.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Easy.Admin</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/easy-admin/" class="nav-link">Easy.Adminæ–‡æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">.Net Core</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dotnet-core/dotnetcore/" class="nav-link">.Net Core</a></li><li class="dropdown-item"><!----> <a href="/dotnet-core/aspnetcore/" class="nav-link">Asp.Net Core</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-item"><!----> <a href="/front-end/vuejs/" class="nav-link">vuejs</a></li><li class="dropdown-item"><!----> <a href="/front-end/iview/" class="nav-link">iview</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/programing-language/csharp/" class="nav-link">C#</a></li><li class="dropdown-item"><!----> <a href="/programing-language/powershell/" class="nav-link">PowerShell</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¼–ç¨‹åŸºç¡€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/character-coding/" class="nav-link">å­—ç¬¦ç¼–ç </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ“ä½œç³»ç»Ÿ</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/operating-system/windows/" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/operating-system/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¼€å‘å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev-tool/visualstudio/" class="nav-link">Visual Studio</a></li><li class="dropdown-subitem"><a href="/dev-tool/visualstudio-code/" class="nav-link">Visual Studio Code</a></li></ul></li><li class="dropdown-item"><h4>æ–‡æ¡£å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tools/doc/docfx/" class="nav-link">DocFX</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/awesome-collection/" class="nav-link">èµ„æºæ”¶é›†</a></div> <a href="https://github.com/xxred/xxred.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>blazor</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dotnet-core/blazor/" class="sidebar-link">/dotnet-core/blazor/</a></li><li><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html" class="active sidebar-link">ä» ASP .NET Core Blazor ä¸­çš„ .NET æ–¹æ³•è°ƒç”¨ JavaScript å‡½æ•°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#ijsruntime" class="sidebar-link">IJSRuntime</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#è°ƒç”¨æ— æ•ˆçš„-javascript-å‡½æ•°" class="sidebar-link">è°ƒç”¨æ— æ•ˆçš„ JavaScript å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#æ£€æµ‹-blazor-server-åº”ç”¨ä½•æ—¶æ¸²æŸ“" class="sidebar-link">æ£€æµ‹ Blazor Server åº”ç”¨ä½•æ—¶æ¸²æŸ“</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#æ•è·å¯¹å…ƒç´ çš„å¼•ç”¨" class="sidebar-link">æ•è·å¯¹å…ƒç´ çš„å¼•ç”¨</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#è·¨ç»„ä»¶çš„å‚è€ƒå…ƒç´ " class="sidebar-link">è·¨ç»„ä»¶çš„å‚è€ƒå…ƒç´ </a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#å¼ºåŒ–-js-äº’æ“ä½œè°ƒç”¨" class="sidebar-link">å¼ºåŒ– JS äº’æ“ä½œè°ƒç”¨</a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#åœ¨ç±»åº“ä¸­å…±äº«äº’æ“ä½œä»£ç " class="sidebar-link">åœ¨ç±»åº“ä¸­å…±äº«äº’æ“ä½œä»£ç </a></li><li class="sidebar-sub-header"><a href="/dotnet-core/blazor/call-javascript-from-dotnet.html#é¢å¤–èµ„æº" class="sidebar-link">é¢å¤–èµ„æº</a></li></ul></li><li><a href="/dotnet-core/blazor/state-management.html" class="sidebar-link">ASP.NET Core Blazor çŠ¶æ€ç®¡ç†</a></li><li><a href="/dotnet-core/blazor/templated-components.html" class="sidebar-link">ASP.NET Core Blazor æ¨¡æ¿ç»„ä»¶</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ä»-asp-net-core-blazor-ä¸­çš„-net-æ–¹æ³•è°ƒç”¨-javascript-å‡½æ•°"><a href="#ä»-asp-net-core-blazor-ä¸­çš„-net-æ–¹æ³•è°ƒç”¨-javascript-å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> ä» ASP .NET Core Blazor ä¸­çš„ .NET æ–¹æ³•è°ƒç”¨ JavaScript å‡½æ•°</h1> <ul><li>Blazor åº”ç”¨ç¨‹åºå¯ä»¥ä» .NET æ–¹æ³•è°ƒç”¨ JavaScript å‡½æ•°ï¼Œå¹¶å¯ä»¥ä» JavaScript å‡½æ•°è°ƒç”¨ .NET æ–¹æ³•ã€‚è¿™äº›åœºæ™¯ç§°ä¸º JavaScript äº’æ“ä½œæ€§ï¼ˆJS interopï¼‰ã€‚</li> <li>æœ¬æ–‡ä»‹ç»äº†ä» .NET è°ƒç”¨ JavaScript å‡½æ•°çš„æ–¹æ³•ã€‚æœ‰å…³å¦‚ä½•ä» JavaScript è°ƒç”¨ .NET æ–¹æ³•çš„ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/call-dotnet-from-javascript?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">ä» ASP .NET Core Blazor ä¸­çš„ JavaScript å‡½æ•°è°ƒç”¨ .NET æ–¹æ³•<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</li></ul> <h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨</h2> <ul><li>è¦ä» .NET è°ƒç”¨ JavaScriptï¼Œè¯·ä½¿ç”¨ IJSRuntime æŠ½è±¡ã€‚è¦å‘å‡º JS äº’æ“ä½œè°ƒç”¨ï¼Œè¯·å°† IJSRuntime æŠ½è±¡æ³¨å…¥åˆ°ç»„ä»¶ä¸­ã€‚è¯¥ InvokeAsync<T>æ–¹æ³•è·å–æ‚¨å¸Œæœ›è°ƒç”¨çš„ JavaScript å‡½æ•°çš„æ ‡è¯†ç¬¦ä»¥åŠä»»æ„æ•°é‡çš„ JSON å¯åºåˆ—åŒ–çš„å‚æ•°ã€‚åŠŸèƒ½æ ‡è¯†ç¬¦æ˜¯ç›¸å¯¹äºå…¨å±€èŒƒå›´ï¼ˆwindowï¼‰çš„ã€‚å¦‚æœæ‚¨è¦å‘¼å« window.someScope.someFunctionï¼Œæ ‡è¯†ç¬¦ä¸º someScope.someFunctionã€‚æ— éœ€åœ¨è°ƒç”¨å‡½æ•°ä¹‹å‰å…ˆè¿›è¡Œæ³¨å†Œã€‚è¿”å›ç±»å‹ T è¿˜å¿…é¡»æ˜¯ JSON å¯åºåˆ—åŒ–çš„ã€‚T åº”è¯¥ä¸æœ€èƒ½æ˜ å°„åˆ°è¿”å›çš„ JSON ç±»å‹çš„ .NET ç±»å‹åŒ¹é…ã€‚</T></li> <li>å¯¹äºå¯ç”¨äº†é¢„æ¸²æŸ“çš„ Blazor Server åº”ç”¨ï¼Œåœ¨åˆå§‹é¢„æ¸²æŸ“æœŸé—´æ— æ³•è°ƒç”¨ JavaScriptã€‚å¿…é¡»å°† JavaScript äº’æ“ä½œè°ƒç”¨æ¨è¿Ÿåˆ°ä¸æµè§ˆå™¨å»ºç«‹è¿æ¥ä¹‹åã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/call-javascript-from-dotnet?view=aspnetcore-3.1#detect-when-a-blazor-server-app-is-prerendering" target="_blank" rel="noopener noreferrer">æ£€æµ‹ Blazor Server åº”ç”¨ä½•æ—¶æ¸²æŸ“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>éƒ¨åˆ†ã€‚</li> <li>ä»¥ä¸‹ç¤ºä¾‹åŸºäºåŸºäº JavaScript çš„è§£ç å™¨ TextDecoderã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä» Cï¼ƒæ–¹æ³•è°ƒç”¨ JavaScript å‡½æ•°ã€‚JavaScript å‡½æ•°ä» Cï¼ƒæ–¹æ³•æ¥å—ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå¯¹è¯¥æ•°ç»„è¿›è¡Œè§£ç ï¼Œç„¶åå°†æ–‡æœ¬è¿”å›ç»™ç»„ä»¶ä»¥è¿›è¡Œæ˜¾ç¤ºã€‚</li> <li>åœ¨ wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtmlï¼ˆBlazor Serverï¼‰çš„<head>å…ƒç´ å†…ï¼Œæä¾›ä¸€ä¸ª JavaScript å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨äºè§£ç ä¼ é€’çš„æ•°ç»„å¹¶è¿”å›è§£ç åçš„å€¼ï¼šTextDecoder</head></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">convertArray</span> <span class="token operator">=</span> <span class="token parameter">win1251Array</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> win1251decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token string">'windows-1251'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>win1251Array<span class="token punctuation">)</span>
    <span class="token keyword">var</span> decodedArray <span class="token operator">=</span> win1251decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>decodedArray<span class="token punctuation">)</span>
    <span class="token keyword">return</span> decodedArray
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>JavaScript ä»£ç ï¼ˆä¾‹å¦‚å‰é¢ç¤ºä¾‹ä¸­æ˜¾ç¤ºçš„ä»£ç ï¼‰ä¹Ÿå¯ä»¥ä» JavaScript æ–‡ä»¶ï¼ˆ.jsï¼‰åŠ è½½ï¼Œå¹¶å¼•ç”¨è¯¥è„šæœ¬æ–‡ä»¶ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>exampleJsInterop.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><p>ä»¥ä¸‹ç»„ä»¶ï¼š</p> <ul><li>é€‰æ‹©ç»„ä»¶æŒ‰é’®ï¼ˆâ€œ è½¬æ¢æ•°ç»„â€ï¼‰æ—¶ convertArray ä½¿ç”¨è°ƒç”¨ JavaScript å‡½æ•°ã€‚JSRuntime</li> <li>è°ƒç”¨ JavaScript å‡½æ•°åï¼Œå°†ä¼ é€’çš„æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å°†è¿”å›åˆ°ç»„ä»¶ä»¥æ˜¾ç¤ºã€‚</li></ul></li></ul> <div class="language-razor extra-class"><pre class="language-text"><code>@page &quot;/call-js-example&quot;
@inject IJSRuntime JSRuntime;

&lt;h1&gt;Call JavaScript Function Example&lt;/h1&gt;

&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; @onclick=&quot;ConvertArray&quot;&gt;
Convert Array
&lt;/button&gt;

&lt;p class=&quot;mt-2&quot; style=&quot;font-size:1.6em&quot;&gt;
    &lt;span class=&quot;badge badge-success&quot;&gt;
        @_convertedText
    &lt;/span&gt;
&lt;/p&gt;

@code {
// Quote (c)2005 Universal Pictures: Serenity
// https://www.uphe.com/movies/serenity
// David Krumholtz on IMDB: https://www.imdb.com/name/nm0472710/

    private MarkupString _convertedText =
        new MarkupString(&quot;Select the &lt;b&gt;Convert Array&lt;/b&gt; button.&quot;);

    private uint[] _quoteArray = new uint[]
        {
            60, 101, 109, 62, 67, 97, 110, 39, 116, 32, 115, 116, 111, 112, 32,
            116, 104, 101, 32, 115, 105, 103, 110, 97, 108, 44, 32, 77, 97,
            108, 46, 60, 47, 101, 109, 62, 32, 45, 32, 77, 114, 46, 32, 85, 110,
            105, 118, 101, 114, 115, 101, 10, 10,
        };

    private async Task ConvertArray()
    {
        var text =
            await JSRuntime.InvokeAsync&lt;string&gt;(&quot;convertArray&quot;, _quoteArray);

        _convertedText = new MarkupString(text);

        StateHasChanged();
    }

}
</code></pre></div><h2 id="ijsruntime"><a href="#ijsruntime" aria-hidden="true" class="header-anchor">#</a> IJSRuntime</h2> <ul><li><p>è¦ä½¿ç”¨ IJSRuntime æŠ½è±¡ï¼Œè¯·é‡‡ç”¨ä»¥ä¸‹ä»»ä½•ä¸€ç§æ–¹æ³•ï¼š</p> <ul><li>å°† IJSRuntime æŠ½è±¡æ³¨å…¥ Razor ç»„ä»¶ï¼ˆ.razorï¼‰ï¼š</li></ul></li></ul> <div class="language-razor extra-class"><pre class="language-text"><code>@inject IJSRuntime JSRuntime

@code {
protected override void OnInitialized()
{
StocksService.OnStockTickerUpdated += stockUpdate =&gt;
{
JSRuntime.InvokeVoidAsync(&quot;handleTickerChanged&quot;,
stockUpdate.symbol, stockUpdate.price);
};
}
}
</code></pre></div><p>åœ¨ wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtmlï¼ˆBlazor Serverï¼‰çš„</p><head>å…ƒç´ å†…ï¼Œæä¾› JavaScript å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨è°ƒç”¨ï¼Œä½†ä¸è¿”å›å€¼ï¼šhandleTickerChangedIJSRuntime.InvokeVoidAsync<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">handleTickerChanged</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">symbol<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... client-side processing/display code ...</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>å°† IJSRuntime æŠ½è±¡æ³¨å…¥åˆ°ç±»ï¼ˆ.csï¼‰ä¸­ï¼š</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsInteropClasses</span>
<span class="token punctuation">{</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> IJSRuntime \_jsRuntime<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">JsInteropClasses</span><span class="token punctuation">(</span><span class="token class-name">IJSRuntime</span> jsRuntime<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _jsRuntime <span class="token operator">=</span> jsRuntime<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> ValueTask<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">&gt;</span> <span class="token function">TickerChanged</span><span class="token punctuation">(</span><span class="token keyword">string</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> _jsRuntime<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">InvokeAsync</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
            <span class="token string">&quot;handleTickerChanged&quot;</span><span class="token punctuation">,</span>
            stockUpdate<span class="token punctuation">.</span>symbol<span class="token punctuation">,</span>
            stockUpdate<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtmlï¼ˆBlazor Serverï¼‰çš„</p><head>å…ƒç´ å†…ï¼Œæä¾› JavaScript å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨è°ƒç”¨å¹¶è¿”å›ä¸€ä¸ªå€¼ï¼šhandleTickerChangedJSRuntime.InvokeAsync<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">handleTickerChanged</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">symbol<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... client-side processing/display code ...</span>
    <span class="token keyword">return</span> <span class="token string">'Done!'</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>ä¸ºäº†ä½¿ç”¨ BuildRenderTree åŠ¨æ€ç”Ÿæˆå†…å®¹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹[Inject]å±æ€§ï¼š</li></ul> <div class="language-razor extra-class"><pre class="language-text"><code>[Inject]
IJSRuntime JSRuntime { get; set; }
</code></pre></div><ul><li><p>åœ¨æ­¤ä¸»é¢˜é™„å¸¦çš„å®¢æˆ·ç«¯ç¤ºä¾‹åº”ç”¨ç¨‹åºä¸­ï¼Œè¯¥åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ä¸¤ä¸ª JavaScript å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸ DOM äº¤äº’ä»¥æ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯ï¼š</p> <ul><li>showPrompt â€“äº§ç”Ÿæç¤ºä»¥æ¥å—ç”¨æˆ·è¾“å…¥ï¼ˆç”¨æˆ·åï¼‰ï¼Œå¹¶å°†åç§°è¿”å›ç»™å‘¼å«è€…ã€‚</li> <li>displayWelcome-åˆ†é…ä»å‘¼å«è€…åˆ° DOM å¯¹è±¡ä¸ä¸€ä¸ªæ¬¢è¿æ¶ˆæ¯ id çš„ welcomeã€‚</li></ul></li> <li><p>wwwroot / exampleJsInterop.jsï¼š</p></li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>exampleJsFunctions <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token function-variable function">showPrompt</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token function">prompt</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token string">'Type your name here'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">displayWelcome</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">welcomeMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> welcomeMessage<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">returnArrayAsyncJs</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
DotNet<span class="token punctuation">.</span><span class="token function">invokeMethodAsync</span><span class="token punctuation">(</span><span class="token string">'BlazorSample'</span><span class="token punctuation">,</span> <span class="token string">'ReturnArrayAsync'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">sayHello</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">dotnetHelper</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> dotnetHelper<span class="token punctuation">.</span><span class="token function">invokeMethodAsync</span><span class="token punctuation">(</span><span class="token string">'SayHello'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>å°†&lt;script&gt;å¼•ç”¨ JavaScript æ–‡ä»¶çš„æ ‡è®°æ”¾åœ¨ wwwroot / index.html æ–‡ä»¶ï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtml æ–‡ä»¶ï¼ˆBlazor Serverï¼‰ä¸­ã€‚</li> <li>wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Blazor WebAssembly Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/bootstrap/bootstrap.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/site.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app</span><span class="token punctuation">&gt;</span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blazor-error-ui<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      An unhandled error has occurred.
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>reload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Reload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dismiss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ğŸ—™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_framework/blazor.webassembly.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>exampleJsInterop.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Pages / _Host.cshtmlï¼ˆBlazor æœåŠ¡å™¨ï¼‰ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@page &quot;/&quot; @namespace BlazorSample.Pages @addTagHelper \*,
Microsoft.AspNetCore.Mvc.TagHelpers @{ Layout = null; }

<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Blazor Server Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/bootstrap/bootstrap.min.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/site.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>typeof(App)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render-mode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ServerPrerendered<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blazor-error-ui<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Staging,Production<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        An error has occurred. This application may no longer respond until
        reloaded.
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        An unhandled exception has occurred. See browser dev tools for details.
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>reload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Reload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dismiss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ğŸ—™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_framework/blazor.server.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>exampleJsInterop.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>ä¸è¦åœ¨ç»„ä»¶æ–‡ä»¶ä¸­æ”¾ç½®&lt;script&gt;æ ‡ç­¾ï¼Œå› ä¸º&lt;script&gt;æ ‡ç­¾ä¸èƒ½åŠ¨æ€æ›´æ–°ã€‚</li> <li>.NET æ–¹æ³•é€šè¿‡è°ƒç”¨æ¥ä¸ exampleJsInterop.js æ–‡ä»¶ä¸­çš„ JavaScript å‡½æ•°è¿›è¡Œäº’æ“ä½œ IJSRuntime.InvokeAsync<T>ã€‚</T></li> <li>è¯¥ IJSRuntime æŠ½è±¡æ˜¯å¼‚æ­¥å…è®¸ Blazor Server æ–¹æ¡ˆã€‚å¦‚æœè¯¥åº”ç”¨ç¨‹åºæ˜¯ Blazor WebAssembly åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ‚¨è¦åŒæ­¥è°ƒç”¨ JavaScript å‡½æ•°ï¼Œè¯·å‘ä¸‹è½¬æ¢ IJSInProcessRuntime å¹¶è°ƒç”¨ Invoke<T>ã€‚æˆ‘ä»¬å»ºè®®å¤§å¤šæ•° JS äº’æ“ä½œåº“ä½¿ç”¨å¼‚æ­¥ APIï¼Œä»¥ç¡®ä¿è¿™äº›åº“åœ¨æ‰€æœ‰æƒ…å†µä¸‹å‡å¯ç”¨ã€‚</T></li> <li>è¯¥ç¤ºä¾‹åº”ç”¨ç¨‹åºåŒ…å«ä¸€ä¸ªæ¼”ç¤º JS äº’æ“ä½œçš„ç»„ä»¶ã€‚ç»„ä»¶ï¼š
<ul><li>é€šè¿‡ JavaScript æç¤ºæ¥æ”¶ç”¨æˆ·è¾“å…¥ã€‚</li> <li>å°†æ–‡æœ¬è¿”å›ç»™ç»„ä»¶ä»¥è¿›è¡Œå¤„ç†ã€‚</li> <li>è°ƒç”¨ä¸ DOM äº¤äº’ä»¥æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯çš„ç¬¬äºŒä¸ª JavaScript å‡½æ•°ã€‚
Pages / JSInterop.razorï¼š</li></ul></li></ul> <div class="language-razor extra-class"><pre class="language-text"><code>@page &quot;/JSInterop&quot;
@using BlazorSample.JsInteropClasses
@inject IJSRuntime JSRuntime

&lt;h1&gt;JavaScript Interop&lt;/h1&gt;

&lt;h2&gt;Invoke JavaScript functions from  .NET methods&lt;/h2&gt;

&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; @onclick=&quot;TriggerJsPrompt&quot;&gt;
Trigger JavaScript Prompt
&lt;/button&gt;

&lt;h3 id=&quot;welcome&quot; style=&quot;color:green;font-style:italic&quot;&gt;&lt;/h3&gt;

@code {
public async Task TriggerJsPrompt()
{
var name = await JSRuntime.InvokeAsync&lt;string&gt;(
&quot;exampleJsFunctions.showPrompt&quot;,
&quot;What's your name?&quot;);

        await JSRuntime.InvokeVoidAsync(
                &quot;exampleJsFunctions.displayWelcome&quot;,
                $&quot;Hello {name}! Welcome to Blazor!&quot;);
    }

}
</code></pre></div><ul><li>å½“ TriggerJsPrompt é€šè¿‡é€‰æ‹©ç»„ä»¶çš„æ‰§è¡Œè§¦å‘çš„ JavaScript æç¤ºæŒ‰é’®æ—¶ï¼ŒJavaScript showPrompt åœ¨æ‰€æä¾›çš„åŠŸèƒ½çš„ wwwroot / exampleJsInterop.js æ–‡ä»¶è¢«è°ƒç”¨ã€‚</li> <li>è¯¥ showPrompt å‡½æ•°æ¥å—ç»è¿‡ HTML ç¼–ç å¹¶è¿”å›åˆ°ç»„ä»¶çš„ç”¨æˆ·è¾“å…¥ï¼ˆç”¨æˆ·åï¼‰ã€‚è¯¥ç»„ä»¶å°†ç”¨æˆ·åå­˜å‚¨åœ¨æœ¬åœ°å˜é‡ä¸­ nameã€‚</li> <li>å­˜å‚¨åœ¨å…¶ä¸­çš„å­—ç¬¦ä¸² name è¢«åˆå¹¶åˆ°æ¬¢è¿æ¶ˆæ¯ä¸­ï¼Œè¯¥æ¶ˆæ¯å°†ä¼ é€’ç»™ JavaScript å‡½æ•° displayWelcomeï¼Œè¯¥å‡½æ•°å°†æ¬¢è¿æ¶ˆæ¯å‘ˆç°ä¸ºæ ‡é¢˜æ ‡è®°ã€‚</li></ul> <h2 id="è°ƒç”¨æ— æ•ˆçš„-javascript-å‡½æ•°"><a href="#è°ƒç”¨æ— æ•ˆçš„-javascript-å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> è°ƒç”¨æ— æ•ˆçš„ JavaScript å‡½æ•°</h2> <ul><li>è¿”å› voidï¼ˆ0ï¼‰/ void 0 æˆ– undefined çš„ JavaScript å‡½æ•°ç”¨è°ƒç”¨ IJSRuntime.InvokeVoidAsyncã€‚</li></ul> <h2 id="æ£€æµ‹-blazor-server-åº”ç”¨ä½•æ—¶æ¸²æŸ“"><a href="#æ£€æµ‹-blazor-server-åº”ç”¨ä½•æ—¶æ¸²æŸ“" aria-hidden="true" class="header-anchor">#</a> æ£€æµ‹ Blazor Server åº”ç”¨ä½•æ—¶æ¸²æŸ“</h2> <ul><li>åœ¨æ¸²æŸ“ Blazor Server åº”ç”¨ç¨‹åºæ—¶ï¼Œç”±äºå°šæœªå»ºç«‹ä¸æµè§ˆå™¨çš„è¿æ¥ï¼Œå› æ­¤æ— æ³•æ‰§è¡ŒæŸäº›æ“ä½œï¼ˆå¦‚è°ƒç”¨ JavaScriptï¼‰ã€‚é¢„æ¸²æŸ“æ—¶ï¼Œç»„ä»¶å¯èƒ½éœ€è¦è¿›è¡Œä¸åŒçš„æ¸²æŸ“ã€‚</li> <li>è‹¥è¦å°† JavaScript äº’æ“ä½œè°ƒç”¨å»¶è¿Ÿåˆ°ä¸æµè§ˆå™¨å»ºç«‹è¿æ¥ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ OnAfterRenderAsync ç»„ä»¶ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚ä»…åœ¨å®Œå…¨æ¸²æŸ“åº”ç”¨ç¨‹åºå¹¶å»ºç«‹å®¢æˆ·ç«¯è¿æ¥åæ‰è°ƒç”¨æ­¤äº‹ä»¶ã€‚</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@using Microsoft.JSInterop @inject IJSRuntime JSRuntime

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>divElement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Text during render<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

@code { private ElementReference divElement; protected override async Task
OnAfterRenderAsync(bool firstRender) { if (firstRender) { await
JSRuntime.InvokeVoidAsync( &quot;setElementText&quot;, divElement, &quot;Text after render&quot;); }
} }
</code></pre></div><ul><li>å¯¹äºå‰é¢çš„ç¤ºä¾‹ä»£ç ï¼Œè¯· setElementText åœ¨ wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtmlï¼ˆBlazor Serverï¼‰çš„&lt;head&gt;å…ƒç´ å†…æä¾›ä¸€ä¸ª JavaScript å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨è°ƒç”¨ï¼Œä½†ä¸è¿”å›å€¼ï¼šIJSRuntime.InvokeVoidAsync</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">setElementText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> text<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>è­¦å‘Šï¼šå‰é¢çš„ç¤ºä¾‹ä»…å‡ºäºæ¼”ç¤ºç›®çš„ç›´æ¥ä¿®æ”¹äº†æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨ JavaScript ç›´æ¥ä¿®æ”¹ DOMï¼Œå› ä¸º JavaScript å¯èƒ½ä¼šå¹²æ‰° Blazor çš„æ›´æ”¹è·Ÿè¸ªã€‚</p></blockquote> <ul><li>ä»¥ä¸‹ç»„ä»¶æ¼”ç¤ºäº†å¦‚ä½•ä»¥ä¸é¢„æ¸²æŸ“å…¼å®¹çš„æ–¹å¼å°† JavaScript äº’æ“ä½œç”¨ä½œç»„ä»¶åˆå§‹åŒ–é€»è¾‘çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç»„ä»¶è¡¨æ˜å¯ä»¥ä»å†…éƒ¨è§¦å‘æ¸²æŸ“æ›´æ–° OnAfterRenderAsyncã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¼€å‘äººå‘˜å¿…é¡»é¿å…åˆ›å»ºæ— é™å¾ªç¯ã€‚</li> <li>ä»…åœ¨ï¼Œè€Œä¸æ˜¯åœ¨ä»»ä½•è¾ƒæ—©çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ä½¿ç”¨ where JSRuntime.InvokeAsyncï¼Œå› ä¸ºåœ¨å‘ˆç°ç»„ä»¶ä¹‹å‰æ²¡æœ‰ JavaScript å…ƒç´ ã€‚ElementRefOnAfterRenderAsync</li> <li>è°ƒç”¨ StateHasChanged ä»¥ä½¿ç”¨ä» JavaScript äº’æ“ä½œè°ƒç”¨è·å¾—çš„æ–°çŠ¶æ€æ¥é‡æ–°å‘ˆç°ç»„ä»¶ã€‚è¯¥ä»£ç ä¸ä¼šåˆ›å»ºæ— é™å¾ªç¯ï¼Œå› ä¸º StateHasChanged ä»…å½“ infoFromJsis æ—¶æ‰è°ƒç”¨ nullã€‚</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@page &quot;/prerendered-interop&quot; @using Microsoft.AspNetCore.Components @using
Microsoft.JSInterop @inject IJSRuntime JSRuntime

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  Get value via JS interop call:
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>val-get-by-interop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>@(infoFromJs ?? &quot;No value yet&quot;)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

Set value via JS interop call:

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>val-set-by-interop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>divElement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

@code { private string infoFromJs; private ElementReference divElement;
protected override async Task OnAfterRenderAsync(bool firstRender) { if
(firstRender &amp;&amp; infoFromJs == null) { infoFromJs = await
JSRuntime.InvokeAsync<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span>
  <span class="token punctuation">&gt;</span></span>( &quot;setElementText&quot;, divElement, &quot;Hello from interop call!&quot;);
  StateHasChanged(); } } }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span>
<span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¯¹äºå‰é¢çš„ç¤ºä¾‹ä»£ç ï¼Œè¯· setElementText åœ¨ wwwroot / index.htmlï¼ˆBlazor WebAssemblyï¼‰æˆ– Pages / _Host.cshtmlï¼ˆBlazor Serverï¼‰çš„</p><head>å…ƒç´ å†…æä¾›ä¸€ä¸ª JavaScript å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨è°ƒç”¨å¹¶è¿”å›ä¸€ä¸ªå€¼ï¼šIJSRuntime.InvokeAsync<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">setElementText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> text
    <span class="token keyword">return</span> text
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>è­¦å‘Šï¼šå‰é¢çš„ç¤ºä¾‹ä»…å‡ºäºæ¼”ç¤ºç›®çš„ç›´æ¥ä¿®æ”¹äº†æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨ JavaScript ç›´æ¥ä¿®æ”¹ DOMï¼Œå› ä¸º JavaScript å¯èƒ½ä¼šå¹²æ‰° Blazor çš„æ›´æ”¹è·Ÿè¸ªã€‚</p></blockquote> <h2 id="æ•è·å¯¹å…ƒç´ çš„å¼•ç”¨"><a href="#æ•è·å¯¹å…ƒç´ çš„å¼•ç”¨" aria-hidden="true" class="header-anchor">#</a> æ•è·å¯¹å…ƒç´ çš„å¼•ç”¨</h2> <ul><li>æŸäº› JS äº’æ“ä½œæ–¹æ¡ˆéœ€è¦å¼•ç”¨ HTML å…ƒç´ ã€‚ä¾‹å¦‚ï¼ŒUI åº“å¯èƒ½éœ€è¦å…ƒç´ å¼•ç”¨è¿›è¡Œåˆå§‹åŒ–ï¼Œæˆ–è€…æ‚¨å¯èƒ½éœ€è¦åœ¨è¯¸å¦‚ focus æˆ–çš„å…ƒç´ ä¸Šè°ƒç”¨ç±»ä¼¼å‘½ä»¤çš„ API playã€‚</li> <li>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ•è·å¯¹ç»„ä»¶ä¸­ HTML å…ƒç´ çš„å¼•ç”¨ï¼š
<ul><li>å°†@ref å±æ€§æ·»åŠ åˆ° HTML å…ƒç´ ã€‚</li> <li>å®šä¹‰ ElementReference åç§°ä¸@ref å±æ€§å€¼åŒ¹é…çš„ç±»å‹çš„å­—æ®µã€‚</li></ul></li> <li>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†æ•è·å¯¹ username &lt;input&gt;å…ƒç´ çš„å¼•ç”¨ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/&gt;</span></span>

@code { ElementReference username; }
</code></pre></div><ul><li>è­¦å‘Šï¼šä»…ä½¿ç”¨å…ƒç´ å¼•ç”¨æ¥æ”¹å˜ä¸ä¸ Blazor äº¤äº’çš„ç©ºå…ƒç´ çš„å†…å®¹ã€‚å½“ç¬¬ä¸‰æ–¹ API å‘å…ƒç´ æä¾›å†…å®¹æ—¶ï¼Œæ­¤æ–¹æ¡ˆå¾ˆæœ‰ç”¨ã€‚å› ä¸º Blazor ä¸ä¸å…ƒç´ äº¤äº’ï¼Œæ‰€ä»¥ Blazor çš„å…ƒç´ è¡¨ç¤ºä¸ DOM ä¹‹é—´ä¸ä¼šå‘ç”Ÿå†²çªã€‚
åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œçªå˜æ— åºåˆ—è¡¨ï¼ˆï¼‰çš„å†…å®¹å¾ˆå±é™©ï¼Œul å› ä¸º Blazor ä¸ DOM äº¤äº’ä»¥å¡«å……æ­¤å…ƒç´ çš„åˆ—è¡¨é¡¹ï¼ˆ&lt;li&gt;ï¼‰ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MyList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  @foreach (var item in Todos) {
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@item.Text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><p>å¦‚æœ JS äº’æ“ä½œ MyList æ›´æ”¹äº† element çš„å†…å®¹ï¼Œå¹¶ä¸” Blazor å°è¯•å°† diff åº”ç”¨äºè¯¥å…ƒç´ ï¼Œåˆ™è¯¥ diff å°†ä¸ DOM ä¸åŒ¹é…ã€‚</p></li> <li><p>å°± .NET ä»£ç è€Œè¨€ï¼Œan ElementReference æ˜¯ä¸€ä¸ªä¸é€æ˜çš„å¥æŸ„ã€‚åœ¨åªæœ‰ä½ å¯ä»¥åšçš„äº‹æƒ… ElementReference å°±æ˜¯é€šè¿‡ JS äº’æ“ä½œï¼Œè®©å®ƒé€šè¿‡ JavaScript ä»£ç ã€‚å½“æ‚¨è¿™æ ·åšæ—¶ï¼ŒJavaScript ç«¯ä»£ç ä¼šæ”¶åˆ°ä¸€ä¸ª HTMLElement å®ä¾‹ï¼Œè¯¥å®ä¾‹å¯ä¸æ™®é€š DOM API ä¸€èµ·ä½¿ç”¨ã€‚</p></li> <li><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å®šä¹‰äº† .NET æ‰©å±•æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸å°†ç„¦ç‚¹è®¾ç½®åœ¨å…ƒç´ ä¸Šï¼š</p></li></ul> <p>exampleJsInterop.jsï¼š</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>exampleJsFunctions <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token function-variable function">focusElement</span> <span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¦è°ƒç”¨ä¸è¿”å›å€¼çš„ JavaScript å‡½æ•°ï¼Œè¯·ä½¿ç”¨ IJSRuntime.InvokeVoidAsyncã€‚ä»¥ä¸‹ä»£ç é€šè¿‡è°ƒç”¨æ•è·çš„å‰é¢çš„ JavaScript å‡½æ•°ï¼Œå°†ç„¦ç‚¹æ”¾åœ¨ç”¨æˆ·åè¾“å…¥ä¸Š ElementReferenceï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code>@inject IJSRuntime JSRuntime

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>\_username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SetFocus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Set focus on username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

@code { private ElementReference \_username; public async Task SetFocus() {
await JSRuntime.InvokeVoidAsync( &quot;exampleJsFunctions.focusElement&quot;, _username);
} }
</code></pre></div><ul><li>è¦ä½¿ç”¨æ‰©å±•æ–¹æ³•ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ¥æ”¶ IJSRuntime å®ä¾‹çš„é™æ€æ‰©å±•æ–¹æ³•ï¼š</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token class-name">Task</span> <span class="token function">Focus</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">ElementReference</span> elementRef<span class="token punctuation">,</span> <span class="token class-name">IJSRuntime</span> jsRuntime<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">await</span> jsRuntime<span class="token punctuation">.</span><span class="token function">InvokeVoidAsync</span><span class="token punctuation">(</span>
<span class="token string">&quot;exampleJsFunctions.focusElement&quot;</span><span class="token punctuation">,</span> elementRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>è¯¥ Focus æ–¹æ³•ç›´æ¥åœ¨å¯¹è±¡ä¸Šè°ƒç”¨ã€‚ä¸‹é¢çš„ç¤ºä¾‹å‡å®šè¯¥ Focus æ–¹æ³•å¯ä» JsInteropClasses åç§°ç©ºé—´ä½¿ç”¨ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@inject IJSRuntime JSRuntime @using JsInteropClasses

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>\_username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SetFocus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Set focus on username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

@code { private ElementReference \_username; public async Task SetFocus() {
await _username.Focus(JSRuntime); } }
</code></pre></div><ul><li>ä½¿ç”¨æ³›å‹ç±»å‹å¹¶è¿”å›å€¼æ—¶ï¼Œè¯·ä½¿ç”¨ ValueTask <T>ï¼š</T></li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> ValueTask<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token generic-method"><span class="token function">GenericMethod</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">ElementReference</span> elementRef<span class="token punctuation">,</span>
<span class="token class-name">IJSRuntime</span> jsRuntime<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> jsRuntime<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">InvokeAsync</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
<span class="token string">&quot;exampleJsFunctions.doSomethingGeneric&quot;</span><span class="token punctuation">,</span> elementRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>GenericMethod ç›´æ¥åœ¨å…·æœ‰ç±»å‹çš„å¯¹è±¡ä¸Šè°ƒç”¨ã€‚ä»¥ä¸‹ç¤ºä¾‹å‡å®š GenericMethod å¯ä»¥ä» JsInteropClasses åç§°ç©ºé—´è·å¾—ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@inject IJSRuntime JSRuntime @using JsInteropClasses

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>\_username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>OnClickMethod<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Do something generic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  _returnValue: @_returnValue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

@code { private ElementReference \_username; private string \_returnValue;
private async Task OnClickMethod() { _returnValue = await
_username.GenericMethod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>(JSRuntime); } }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="è·¨ç»„ä»¶çš„å‚è€ƒå…ƒç´ "><a href="#è·¨ç»„ä»¶çš„å‚è€ƒå…ƒç´ " aria-hidden="true" class="header-anchor">#</a> è·¨ç»„ä»¶çš„å‚è€ƒå…ƒç´ </h2> <ul><li>ä¸€ä¸ª ElementReference æ—¶ï¼Œæ‰èƒ½ä¿è¯åœ¨ç»„ä»¶çš„æœ‰æ•ˆ OnAfterRender æ–¹æ³•ï¼ˆå’Œå…ƒä»¶å‚è€ƒæ˜¯ structï¼‰ï¼Œæ‰€ä»¥ä¸€ä¸ªå…ƒä»¶å¼•ç”¨ä¸èƒ½éƒ¨ä»¶ä¹‹é—´ä¼ é€’ã€‚</li> <li>ä¸ºäº†ä½¿çˆ¶ç»„ä»¶ä½¿å…ƒç´ å¼•ç”¨å¯ç”¨äºå…¶ä»–ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶å¯ä»¥ï¼š
<ul><li>å…è®¸å­ç»„ä»¶æ³¨å†Œå›è°ƒã€‚</li> <li>åœ¨ OnAfterRender äº‹ä»¶æœŸé—´ä½¿ç”¨ä¼ é€’çš„å…ƒç´ å¼•ç”¨æ¥è°ƒç”¨å·²æ³¨å†Œçš„å›è°ƒã€‚é—´æ¥åœ°ï¼Œè¿™ç§æ–¹æ³•å…è®¸å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„å…ƒç´ å¼•ç”¨è¿›è¡Œäº¤äº’ã€‚</li></ul></li> <li>ä»¥ä¸‹ Blazor WebAssembly ç¤ºä¾‹è¯´æ˜äº†è¯¥æ–¹æ³•ã€‚</li> <li>åœ¨&lt;head&gt;çš„ wwwroot æ–‡ä»¶/ index.html çš„ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.red</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>åœ¨&lt;body&gt;çš„ wwwroot æ–‡ä»¶/ index.html çš„ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">setElementClass</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/** @type {HTMLElement} **/</span>
    <span class="token keyword">var</span> myElement <span class="token operator">=</span> element
    myElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Pages / Index.razorï¼ˆçˆ¶ç»„ä»¶ï¼‰ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@page &quot;/&quot;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">@ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello, world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

Welcome to your new app.

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SurveyPrompt</span> <span class="token attr-name">Parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>this<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>How is Blazor working for you?<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
Pages / Index.razor.csï¼š
</code></pre></div><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> BlazorSample<span class="token punctuation">.</span>Pages
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token punctuation">:</span>
<span class="token class-name">ComponentBase</span><span class="token punctuation">,</span> IObservable<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span><span class="token punctuation">,</span> IDisposable
<span class="token punctuation">{</span>
<span class="token keyword">private</span> <span class="token keyword">bool</span> \_disposing<span class="token punctuation">;</span>
<span class="token keyword">private</span> IList<span class="token operator">&lt;</span>IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;&gt;</span> \_subscriptions <span class="token operator">=</span>
<span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span>IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> ElementReference \_title<span class="token punctuation">;</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">OnAfterRender</span><span class="token punctuation">(</span><span class="token keyword">bool</span> firstRender<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnAfterRender</span><span class="token punctuation">(</span>firstRender<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token keyword">var</span> subscription <span class="token keyword">in</span> _subscriptions<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">try</span>
                <span class="token punctuation">{</span>
                    subscription<span class="token punctuation">.</span><span class="token function">OnNext</span><span class="token punctuation">(</span>_title<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _disposing <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>

            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token keyword">var</span> subscription <span class="token keyword">in</span> _subscriptions<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">try</span>
                <span class="token punctuation">{</span>
                    subscription<span class="token punctuation">.</span><span class="token function">OnCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            _subscriptions<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">IDisposable</span> <span class="token function">Subscribe</span><span class="token punctuation">(</span>IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span> observer<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_disposing<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InvalidOperationException</span><span class="token punctuation">(</span><span class="token string">&quot;Parent being disposed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            _subscriptions<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Subscription</span><span class="token punctuation">(</span>observer<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Subscription</span> <span class="token punctuation">:</span> <span class="token class-name">IDisposable</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token function">Subscription</span><span class="token punctuation">(</span>IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span> observer<span class="token punctuation">,</span> <span class="token class-name">Index</span> self<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Observer <span class="token operator">=</span> observer<span class="token punctuation">;</span>
                Self <span class="token operator">=</span> self<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">public</span> IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span> Observer <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token class-name">Index</span> Self <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Self<span class="token punctuation">.</span>_subscriptions<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>Observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>å…±äº«/SurveyPrompt.razorï¼ˆå­ç»„ä»¶ï¼‰ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>@inject IJSRuntime JS

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert alert-secondary mt-4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>oi oi-pencil mr-2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>@Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-nowrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    Please take our
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
      <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>font-weight-bold<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://go.microsoft.com/fwlink/?linkid=2109206<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>brief survey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
    <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  and tell us what you think.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

@code { [Parameter] public string Title { get; set; } }
</code></pre></div><ul><li>å…±äº«/SurveyPrompt.razor.csï¼š</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> BlazorSample<span class="token punctuation">.</span>Shared
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">SurveyPrompt</span> <span class="token punctuation">:</span>
<span class="token class-name">ComponentBase</span><span class="token punctuation">,</span> IObserver<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span><span class="token punctuation">,</span> IDisposable
<span class="token punctuation">{</span>
<span class="token keyword">private</span> IDisposable \_subscription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token class-name">Parameter</span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> IObservable<span class="token operator">&lt;</span>ElementReference<span class="token operator">&gt;</span> Parent <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">OnParametersSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnParametersSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_subscription <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                _subscription<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            _subscription <span class="token operator">=</span> Parent<span class="token punctuation">.</span><span class="token function">Subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _subscription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnError</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> error<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _subscription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">OnNext</span><span class="token punctuation">(</span><span class="token class-name">ElementReference</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            JS<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">InvokeAsync</span><span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
                <span class="token string">&quot;setElementClass&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _subscription<span class="token punctuation">?.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="å¼ºåŒ–-js-äº’æ“ä½œè°ƒç”¨"><a href="#å¼ºåŒ–-js-äº’æ“ä½œè°ƒç”¨" aria-hidden="true" class="header-anchor">#</a> å¼ºåŒ– JS äº’æ“ä½œè°ƒç”¨</h2> <ul><li>JS äº’æ“ä½œå¯èƒ½ç”±äºç½‘ç»œé”™è¯¯è€Œå¤±è´¥ï¼Œåº”è§†ä¸ºä¸å¯é ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒBlazor Server åº”ç”¨ç¨‹åºåœ¨ä¸€åˆ†é’Ÿåä½¿æœåŠ¡å™¨ä¸Šçš„ JS äº’æ“ä½œè°ƒç”¨è¶…æ—¶ã€‚å¦‚æœåº”ç”¨ç¨‹åºå¯ä»¥å¿å—æ›´æ¿€è¿›çš„è¶…æ—¶ï¼ˆä¾‹å¦‚ 10 ç§’ï¼‰ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€è®¾ç½®è¶…æ—¶ï¼š
<ul><li>åœ¨å…¨å±€ä¸­ Startup.ConfigureServicesï¼ŒæŒ‡å®šè¶…æ—¶æ—¶é—´ï¼š</li></ul></li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddServerSideBlazor</span><span class="token punctuation">(</span>
options <span class="token operator">=&gt;</span> options<span class="token punctuation">.</span>JSInteropDefaultCallTimeout <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token punctuation">{</span>SECONDS<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>å¯¹äºç»„ä»¶ä»£ç ä¸­çš„æ¯æ¬¡è°ƒç”¨ï¼Œå•ä¸ªè°ƒç”¨å¯ä»¥æŒ‡å®šè¶…æ—¶ï¼š</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> JSRuntime<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">InvokeAsync</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;MyJSOperation&quot;</span><span class="token punctuation">,</span>
TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token punctuation">{</span>SECONDS<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;Arg1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>æœ‰å…³èµ„æºè€—å°½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="https://docs.microsoft.com/en-us/aspnet/core/security/blazor/server?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">Secure ASP .NET Core Blazor Server åº”ç”¨ç¨‹åº<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</li></ul> <h2 id="åœ¨ç±»åº“ä¸­å…±äº«äº’æ“ä½œä»£ç "><a href="#åœ¨ç±»åº“ä¸­å…±äº«äº’æ“ä½œä»£ç " aria-hidden="true" class="header-anchor">#</a> åœ¨ç±»åº“ä¸­å…±äº«äº’æ“ä½œä»£ç </h2> <ul><li>JS äº’æ“ä½œä»£ç å¯ä»¥åŒ…å«åœ¨ç±»åº“ä¸­ï¼Œè¯¥åº“ä½¿æ‚¨å¯ä»¥åœ¨ NuGet åŒ…ä¸­å…±äº«ä»£ç ã€‚</li> <li>ç±»åº“å¤„ç†å°† JavaScript èµ„æºåµŒå…¥åˆ°å·²ç”Ÿæˆçš„ç¨‹åºé›†ä¸­ã€‚JavaScript æ–‡ä»¶ä½äº wwwroot æ–‡ä»¶å¤¹ä¸­ã€‚æ„å»ºåº“æ—¶ï¼Œè¯¥å·¥å…·è´Ÿè´£åµŒå…¥èµ„æºã€‚</li> <li>åœ¨åº”ç”¨ç¨‹åºçš„é¡¹ç›®æ–‡ä»¶ä¸­å¼•ç”¨ç”Ÿæˆçš„ NuGet åŒ…çš„æ–¹å¼ä¸å¼•ç”¨ä»»ä½• NuGet åŒ…çš„æ–¹å¼ç›¸åŒã€‚è¿˜åŸè½¯ä»¶åŒ…åï¼Œåº”ç”¨ç¨‹åºä»£ç å¯ä»¥åƒ Cï¼ƒä¸€æ ·è°ƒç”¨ JavaScriptã€‚</li> <li>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/class-libraries?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">ASP .NET Core Razor ç»„ä»¶ç±»åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</li></ul> <h2 id="é¢å¤–èµ„æº"><a href="#é¢å¤–èµ„æº" aria-hidden="true" class="header-anchor">#</a> é¢å¤–èµ„æº</h2> <ul><li><a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/call-dotnet-from-javascript?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">ä» ASP .NET Core Blazor ä¸­çš„ JavaScript å‡½æ•°è°ƒç”¨ .NET æ–¹æ³•<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/dotnet/AspNetCore/blob/release/3.1/src/Components/test/testassets/BasicTestApp/InteropComponent.razor" target="_blank" rel="noopener noreferrer">InteropComponent.razor ç¤ºä¾‹ï¼ˆdotnet / AspNetCore GitHub å­˜å‚¨åº“ï¼Œ3.1 ç‰ˆæœ¬åˆ†æ”¯ï¼‰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/advanced-scenarios?view=aspnetcore-3.1#perform-large-data-transfers-in-blazor-server-apps" target="_blank" rel="noopener noreferrer">åœ¨ Blazor Server åº”ç”¨ç¨‹åºä¸­æ‰§è¡Œå¤§æ•°æ®ä¼ è¾“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>å‚è€ƒ https://docs.microsoft.com/en-us/aspnet/core/blazor/call-javascript-from-dotnet?view=aspnetcore-3.1</p></head></head></head></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/xxred/xxred.github.io/edit/master/docs/dotnet-core/blazor/call-javascript-from-dotnet.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">2/29/2020, 4:42:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/dotnet-core/blazor/" class="prev router-link-active">
          /dotnet-core/blazor/
        </a></span> <span class="next"><a href="/dotnet-core/blazor/state-management.html">
          ASP.NET Core Blazor çŠ¶æ€ç®¡ç†
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d725c766.js" defer></script><script src="/assets/js/2.bd7d8131.js" defer></script><script src="/assets/js/82.56cba17a.js" defer></script>
  </body>
</html>
